{% extends "base.html" %}
{% load i18n %}
{% load static %}
{% block title %}نمونه کارها - AZIN GROUP{% endblock %}

{% block content %}
<section class="luxury-portfolio-hero">
    <div class="luxury-hero-background">
        <div class="luxury-gradient-overlay"></div>
        <div class="animated-geometric-pattern"></div>
        <div class="floating-gold-elements">
            <div class="gold-element elem-1"></div>
            <div class="gold-element elem-2"></div>
            <div class="gold-element elem-3"></div>
            <div class="gold-element elem-4"></div>
        </div>
    </div>

    <div class="container">
        <div class="luxury-hero-content">
            <div class="luxury-hero-text">
                <div class="prestige-badge">
                    <span class="badge-text">Portfolio Excellence</span>
                    <div class="badge-line"></div>
                </div>

                <h1 class="luxury-hero-title">
                    <span class="title-line-2">نمونه کارها</span>
                </h1>

                <p class="luxury-hero-description">
                    Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquam, beatae!
                </p>
            </div>

            <div class="luxury-hero-visual">
                <div class="prestige-showcase">
                    <div class="showcase-item showcase-main">
                        <img src="{% static 'img/decore.jpg' %}" alt="پروژه ویژه">
                        <div class="showcase-overlay">
                            <span class="showcase-badge">Featured</span>
                        </div>
                    </div>
                    <div class="showcase-item showcase-secondary">
                        <img src="{% static 'img/about.jpg' %}" alt="پروژه دوم">
                    </div>
                    <div class="showcase-item showcase-tertiary">
                        <img src="{% static 'img/market.jpg' %}" alt="پروژه سوم">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- بخش فیلترهای پیشرفته -->
<section class="advanced-filters-section">
    <div class="container">
        <div class="filters-header">
            <h2 class="filters-title">دسته‌بندی تخصصی پروژه‌ها</h2>
        </div>

        <div class="advanced-filter-tabs">
            <div class="filter-category">
                <h4>خدمات اصلی</h4>
                <div class="filter-buttons">

                    <button class="filter-btn luxury active" data-filter="all">
                        <i class="bi bi-grid-3x3-gap"></i>
                        <span>همه پروژه‌ها</span>
                    </button>


                    <a href="{% url 'contact' %}" class="filter-btn luxury" data-filter="all">
                        <i class="bi bi-phone"></i>
                        <span>مدیریت شبکه های اجتماعی</span>
                    </a>

                    <a href="{% url 'media' %}" class="filter-btn luxury" data-filter="all">
                        <i class="bi bi-camera"></i>
                        <span>عکاسی و فلمبرداری</span>
                    </a>

                    <a href="{% url 'website' %}" class="filter-btn luxury" data-filter="all">
                        <i class="bi bi-laptop"></i>
                        <span>طراحی وبسایت</span>
                    </a>

                    <a href="{% url 'mobileapp' %}" class="filter-btn luxury" data-filter="app">
                        <i class="bi bi-phone"></i>
                        <span>اپلیکیشن موبایل</span>
                    </a>

                    <a href="{% url 'smm' %}" class="filter-btn luxury" data-filter="marketing">
                        <i class="bi bi-megaphone"></i>
                        <span>دیجیتال مارکتینگ</span>
                    </a>
                    
                </div>
            </div>

            <div class="filter-category">
                <h4>صنایع تخصصی</h4>
                <div class="filter-buttons">
                    <button class="filter-btn luxury" data-filter="ecommerce">
                        <i class="bi bi-cart"></i>
                        <span>فروشگاهی</span>
                    </button>
                    <button class="filter-btn luxury" data-filter="corporate">
                        <i class="bi bi-building"></i>
                        <span>شرکتی</span>
                    </button>
                    <button class="filter-btn luxury" data-filter="portfolio">
                        <i class="bi bi-person-badge"></i>
                        <span>شخصی</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="luxury-portfolio-grid">
    <div class="container">
        <div class="luxury-grid" id="portfolioGrid">
            {% for project in projects %}
            <div class="luxury-portfolio-item">
                <div class="luxury-portfolio-card">
                    <div class="portfolio-image-container">
                        <img src="{{ project.image.url }}" alt="{{ project.name }}" class="portfolio-image">

                        <div class="portfolio-overlay luxury">
                            <div class="overlay-content">
                                <h3 class="project-title">{{ project.name }}</h3>
                                <p class="project-description">{{ project.description|truncatewords:20 }}</p>

                                <div class="project-actions">
                                    {% if project.url %}
                                    <a href="{{ project.url }}" class="action-btn live-preview" target="_blank">
                                        <i class="bi bi-box-arrow-up-right"></i>
                                        <span>مشاهده آنلاین</span>
                                    </a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="portfolio-content luxury">
                        <div class="content-header">
                            <h3 class="project-title">{{ project.name }}</h3>
                        </div>

                        <p class="project-description">{{ project.description|truncatewords:15 }}</p>


                    </div>
                </div>
            </div>
            {% empty %}
            <div class="empty-state luxury">
                <div class="empty-icon">
                    <i class="bi bi-folder2-open"></i>
                </div>
                <h3>پروژه‌ای یافت نشد</h3>
                <p>هنوز پروژه‌ای به پورتفولیو اضافه نشده است</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- بخش CTA لوکس -->
<section class="luxury-cta-section">
    <div class="luxury-cta-background">
        <div class="cta-gradient"></div>
        <div class="cta-pattern"></div>
    </div>

    <div class="container">
        <div class="luxury-cta-content">
            <div class="cta-text">
                <h2>آماده ایجاد پروژه‌ای استثنایی هستید؟</h2>
                <p>با اعتماد به تیم متخصص آذین گروپ، کسب‌وکار خود را به سطح جدیدی برسانید</p>

                <div class="cta-features">
                    <div class="feature">
                        <i class="bi bi-check-circle"></i>
                        <span>مشاوره رایگان تخصصی</span>
                    </div>
                    <div class="feature">
                        <i class="bi bi-check-circle"></i>
                        <span>پشتیبانی ۲۴ ساعته</span>
                    </div>
                    <div class="feature">
                        <i class="bi bi-check-circle"></i>
                        <span>ضمانت کیفیت اجرا</span>
                    </div>
                </div>
            </div>

            <div class="cta-actions">
                <a href="{% url 'contact' %}" class="luxury-cta-btn primary">
                    <i class="bi bi-telephone"></i>
                    <span>درخواست مشاوره رایگان</span>
                </a>
            </div>
        </div>
    </div>
</section>

<script>
    // انیمیشن شماره‌های آماری
    document.addEventListener('DOMContentLoaded', function () {
        // انیمیشن شماره‌ها
        const animateValue = (element, start, end, duration) => {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const value = Math.floor(progress * (end - start) + start);
                element.textContent = value + (element.getAttribute('data-count') > 90 ? '%' : '+');
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const valueElement = entry.target;
                    const target = parseInt(valueElement.getAttribute('data-count'));
                    animateValue(valueElement, 0, target, 2500);
                    observer.unobserve(valueElement);
                }
            });
        }, { threshold: 0.5 });

        document.querySelectorAll('.stat-number[data-count]').forEach(el => observer.observe(el));

        // فیلترهای پیشرفته
        const filterBtns = document.querySelectorAll('.filter-btn.luxury');
        const portfolioItems = document.querySelectorAll('.luxury-portfolio-item');

        filterBtns.forEach(btn => {
            btn.addEventListener('click', function () {
                filterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');

                const filterValue = this.getAttribute('data-filter');

                portfolioItems.forEach(item => {
                    const category = item.getAttribute('data-category');
                    const industry = item.getAttribute('data-industry');

                    if (filterValue === 'all' || category === filterValue || industry === filterValue) {
                        item.style.display = 'block';
                        setTimeout(() => {
                            item.style.opacity = '1';
                            item.style.transform = 'translateY(0)';
                        }, 100);
                    } else {
                        item.style.opacity = '0';
                        item.style.transform = 'translateY(20px)';
                        setTimeout(() => {
                            item.style.display = 'none';
                        }, 300);
                    }
                });
            });
        });
    });
</script>
{% endblock %}